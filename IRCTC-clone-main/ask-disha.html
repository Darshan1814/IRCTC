<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/0de0529c5f.js" crossorigin="anonymous"></script>
    <link rel="icon" href="./images/titlepage logo.png" type="image/icon type">
    <link rel="stylesheet" type="text/css" href="./style.css">
    <link rel="stylesheet" type="text/css" href="./chatbot.css">
    <link rel="stylesheet" type="text/css" href="./mobile-fixes.css">
    <title>Ask DISHA - IRCTC AI Assistant</title>
</head>
<body>
    <header id="main-header">
        <div id="img1"><img src="https://www.irctc.co.in/nget/assets/images/secondry-logo.png" alt="irctc logo"></div>
        <div id="linklists" style="display: flex; flex-direction: column; gap: 0.1rem; flex-grow: 1; max-width: 900px; margin: 0 1rem;">
            <div id="links1" style="display: flex; justify-content: center;">
                <ul class="horizontal-list center" style="display: flex; flex-wrap: wrap; gap: 0.2rem; margin: 0; padding: 0; list-style: none; justify-content: center; max-width: 100%;">
                    <li class="blue-bold" style="background: rgba(255,255,255,0.2); padding: 0.15rem 0.4rem; border-radius: 10px; font-size: 0.85rem;"><a href="#">LOGIN</a></li>
                    <li style="background: rgba(255,255,255,0.2); padding: 0.15rem 0.4rem; border-radius: 10px; font-size: 0.85rem;"><a href="https://www.irctc.co.in/nget/profile/user-registration">REGISTER</a></li>
                    <li style="background: rgba(255,255,255,0.2); padding: 0.15rem 0.4rem; border-radius: 10px; font-size: 0.85rem;"><a href="https://agent.irctc.co.in/nget/train-search">AGENT LOGIN</a></li>
                    <li style="background: rgba(255,255,255,0.2); padding: 0.15rem 0.4rem; border-radius: 10px; font-size: 0.85rem;"><a href="#">CONTACT US</a></li>
                    <li class="blue-bold" style="background: rgba(255,255,255,0.4); padding: 0.15rem 0.4rem; border-radius: 10px; font-size: 0.85rem;"><a href="./ask-disha.html">ASK DISHA</a></li>
                    <li style="background: rgba(255,255,255,0.2); padding: 0.15rem 0.4rem; border-radius: 10px; font-size: 0.85rem;"><a href="https://www.irctc.co.in/nget/enquiry/alerts"><strong>ALERTS</strong></a></li>
                    <li style="background: rgba(255,255,255,0.2); padding: 0.15rem 0.4rem; border-radius: 10px; font-size: 0.85rem;">  
                        <span id="datetime" style="font-weight: bold;"></span>
                    </li>
                    <li style="background: rgba(255,255,255,0.2); padding: 0.15rem 0.4rem; border-radius: 10px; font-size: 0.85rem;">
                        <button class="btn" onclick="decreaseFontSize()" style="font-size: 0.8rem; padding: 0.1rem 0.3rem; margin: 0 0.1rem;">A-</button>
                        <button class="btn" onclick="resetFontSize()" style="font-size: 0.8rem; padding: 0.1rem 0.3rem; margin: 0 0.1rem;">A</button>
                        <button class="btn" onclick="increaseFontSize()" style="font-size: 0.8rem; padding: 0.1rem 0.3rem; margin: 0 0.1rem;">A+</button>
                    </li>
                    <li style="background: rgba(255,255,255,0.2); padding: 0.15rem 0.4rem; border-radius: 10px; font-size: 0.85rem;"><button class="btn" style="font-size: 0.85rem; padding: 0.1rem 0.3rem;">हिन्दी</button></li>
                </ul>
            </div>
            <div id="links2" style="display: flex; justify-content: center; flex-wrap: wrap; gap: 0.15rem;">
                <div class="dropdown">
                    <a href="./index.html"><span style="color: white; padding: 0.15rem 0.4rem; border-radius: 8px; font-size: 0.85rem;"><i class="fa-solid fa-house"></i></span></a>
                </div>
            </div>
        </div>
        <div id="img2"><img src="https://www.irctc.co.in/nget/assets/images/logo.png" alt="irctc logo"></div>
    </header>

    <main>
        <div class="chatbot-container">
            <div class="chatbot-header">
                <div class="chatbot-title">
                    <i class="fa-solid fa-robot"></i>
                    <h2>Ask DISHA - Your IRCTC AI Assistant</h2>
                </div>
                <div class="chatbot-subtitle">
                    <p>Get instant help with train bookings, PNR status, and railway information</p>
                </div>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="message bot-message">
                    <div class="message-avatar">
                        <i class="fa-solid fa-robot"></i>
                    </div>
                    <div class="message-content">
                        <p>Hello! I'm DISHA, your IRCTC AI assistant. I can help you with:</p>
                        <ul>
                            <li>Train booking information</li>
                            <li>PNR status queries</li>
                            <li>Train schedules and routes</li>
                            <li>Fare information</li>
                            <li>General railway inquiries</li>
                        </ul>
                        <p>How can I assist you today?</p>
                    </div>
                </div>
            </div>

            <div class="chat-input-container">
                <div class="input-wrapper">
                    <input type="text" id="userInput" placeholder="Type your message here..." maxlength="500">
                    <button id="voiceBtn" class="voice-btn" title="Voice Assistant (Requires Microphone)" onclick="handleVoiceCall()">
                        <i class="fa-solid fa-microphone"></i>
                    </button>
                    <button id="sendBtn" class="send-btn" title="Send Message">
                        <i class="fa-solid fa-paper-plane"></i>
                    </button>
                </div>
                <div class="input-info">
                    <small>Press Enter to send • Click mic for voice (Allow microphone permission when prompted)</small>
                </div>
            </div>

            <div class="quick-actions">
                <button class="quick-btn" onclick="sendQuickMessage('Check PNR status')">
                    <i class="fa-solid fa-search"></i> PNR Status
                </button>
                <button class="quick-btn" onclick="sendQuickMessage('Train booking help')">
                    <i class="fa-solid fa-ticket"></i> Book Ticket
                </button>
                <button class="quick-btn" onclick="sendQuickMessage('Train schedule information')">
                    <i class="fa-solid fa-clock"></i> Schedule
                </button>
                <button class="quick-btn" onclick="sendQuickMessage('Fare information')">
                    <i class="fa-solid fa-rupee-sign"></i> Fare Info
                </button>
            </div>
        </div>

        <!-- Floating DISHA Assistant -->
        <div class="disha-voice-bubble" id="dishaVoiceBubble" onclick="openDISHA()" title="DISHA Assistant" style="position: fixed; bottom: 30px; right: 30px; z-index: 9999;">
            <div class="disha-avatar">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="18" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
                    <path d="M8 15C8 10 12 6 20 6C28 6 32 10 32 15C32 12 30 8 20 8C10 8 8 12 8 15Z" fill="#8b4513"/>
                    <circle cx="15" cy="17" r="2" fill="#1f2937"/>
                    <circle cx="25" cy="17" r="2" fill="#1f2937"/>
                    <circle cx="15.5" cy="16.5" r="0.5" fill="white"/>
                    <circle cx="25.5" cy="16.5" r="0.5" fill="white"/>
                    <path d="M20 20L19 22L21 22Z" fill="#f59e0b"/>
                    <path d="M17 25C17 26 18 27 20 27C22 27 23 26 23 25" stroke="#1f2937" stroke-width="1.5" fill="none" stroke-linecap="round"/>
                    <circle cx="20" cy="14" r="1" fill="#dc2626"/>
                </svg>
            </div>
            <div class="voice-indicator" id="voiceIndicator">
                <div class="pulse-ring"></div>
                <i class="fa-solid fa-robot"></i>
            </div>
            <div class="disha-name">DISHA</div>
        </div>
    </main>

    <script src="./error-handler.js"></script>
    <script src="./auto-allow-mic.js"></script>
    <script src="./auto-mic-setup.js"></script>
    <script src="./mic-permission.js"></script>
    <script src="./javas.js"></script>
    <script src="./vapi-inline.js"></script>
    <script src="./chatbot.js"></script>
</body>
</html>